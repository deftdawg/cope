#!/usr/bin/env perl
use App::Cope;

sub process {
        # Hit http://apt.puppetlabs.com wheezy/main amd64 Packages
        # Ign http://security.debian.org testing/updates/contrib Translation-en
        # Get: 1 http://http.debian.net experimental Release [161 kB]

        line qr{^(Ign)} => 'yellow';
        line qr{^(Hit)} => 'green';
        line qr{(Get): (\d)(.*) \[(.*)\]} => 'cyan', 'bold', '', 'blue';
        line qr{\d(T)\s} => 'red bold';

        # Fetched 7,819 B in 8s (910 B/s)
        line qr{^Fetched ([\d,]+)} => 'blue';
        line qr{in (\d+)s \((.*)\)} => 'yellow', 'blue';
}

run( \&process, real_path, @ARGV );
